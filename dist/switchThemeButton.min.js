/*!
 *   switchThemeButton.js
 * See {@link https://github.com/dettalant/switchThemeButton}
 *
 * @author dettalant
 * @version v0.1.2
 * @license MIT License
 */
var switchThemeButton=function(e){"use strict";function n(e){this.message=e,this.name="SwitchThemeButtonError"}n.prototype.toString=function(){return this.name+": "+this.message};function t(e,t){var r=this;if(void(this.currentThemeIdx=0)===e)throw new n("インスタンス生成には初期化引数が必須です");if(0===e.themeNameArray.length)throw new n("初期化引数のthemeNameArrayに有効な値が指定されていません");if(!(e.buttonEl instanceof HTMLElement))throw new n("初期化引数のbuttonElがHTMLElementではありません");this.themeNameArray=e.themeNameArray,this.buttonEl=e.buttonEl,this.defaultThemeApply(),void 0!==t&&t.call(this),this.buttonEl.addEventListener(a,function(){r.switchThemeInOrder(),void 0!==t&&t.call(r)})}var a=null===window.ontouchend?"touchend":"click",m="stb_currentThemeName",r={currentThemeName:{configurable:!0}};return t.prototype.switchThemeInOrder=function(){for(var e=document.body.className,t=this.themeNameArray.length,r=0;r<t;r++){var n=this.themeNameArray[r];if(-1!==e.indexOf(n)){var a=r+1===t?0:r+1;this.currentThemeIdx=a,document.body.classList.remove(n),document.body.classList.add(this.currentThemeName),window.localStorage.setItem(m,this.currentThemeName);break}}},t.prototype.defaultThemeApply=function(){var e=window.localStorage.getItem(m);if(null!==e&&""!==e){var t=this.themeNameArray.indexOf(e);if(-1!==t)return this.currentThemeIdx=t,this.removeThemeNameAll(),void document.body.classList.add(this.currentThemeName)}var r=this.getBodyDefaultThemeIdx();-1!==r?this.currentThemeIdx=r:document.body.classList.add(this.themeNameArray[0])},t.prototype.removeThemeNameAll=function(){for(var e=this.themeNameArray.length,t=0;t<e;t++){var r=this.themeNameArray[t];document.body.classList.remove(r)}},t.prototype.getBodyDefaultThemeIdx=function(){for(var e=-1,t=this.themeNameArray.length,r=0;r<t;r++)if(-1!==document.body.className.indexOf(this.themeNameArray[r])){e=r;break}return e},r.currentThemeName.get=function(){return this.themeNameArray[this.currentThemeIdx]},t.prototype.isThemeEnabledValidationFromName=function(e){return e===this.currentThemeName},Object.defineProperties(t.prototype,r),e.SwitchThemeButton=t,e}({});
